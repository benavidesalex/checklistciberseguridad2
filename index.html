<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Ciberseguridad Personal</title>
    <style>
        /* Estilos Base y Tipograf√≠a */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #FFFFFF;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        h1 {
            color: #1A3E60;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .context-paragraph {
            text-align: center;
            margin: 10px 0 30px 0;
            padding: 15px 25px;
            background-color: #f0f8ff;
            border-left: 8px solid #007BFF;
            border-radius: 8px;
            color: #1A3E60;
            font-size: 1.05em;
            font-weight: 500;
            border: 1px solid #cceeff;
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.15);
        }

        /* --- Resumen Superior (Scores & Donut Charts & Radar) --- */
        .scores-summary-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #DDEBF6;
            border-radius: 8px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            gap: 15px;
        }

        .overall-summary-block {
            flex-basis: 25%;
            min-width: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 15px;
            background-color: #C0DFF0;
            border-radius: 5px;
            transition: background-color 0.3s, border 0.3s; 
        }

        .overall-score-top {
            font-size: 1.6em;
            font-weight: bold;
            color: #1A5276;
            text-align: center;
            transition: color 0.3s;
        }

        .overall-score-top span {
            color: inherit;
            font-size: 1.2em;
        }

        .overall-item-count {
            font-size: 0.9em;
            color: #4A657C;
            margin-top: 5px;
            font-weight: 500;
        }

        /* Contenedor Gr√°ficos: organiza el radar y los donuts */
        .charts-container {
            display: flex;
            flex-basis: 70%;
            justify-content: space-around;
            gap: 15px;
            align-items: flex-start;
            flex-wrap: wrap;
        }

        /* Gr√°fico Radial */
        .radial-chart-container {
            flex-basis: 45%;
            min-width: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        #cyberRadarChart {
            width: 100%;
            max-width: 220px;
            height: auto;
        }

        /* Estilos SVG para el Radar */
        .radar-axis {
            stroke: #A0B2C6;
            stroke-width: 1.2;
        }

        .radar-shape {
            fill: rgba(70, 130, 180, 0.5);
            stroke: #4682B4;
            stroke-width: 2.5;
            transition: all 0.5s ease-out;
        }

        .radar-label {
            font-size: 10px;
            fill: #5A7C9B;
            text-anchor: middle;
            font-weight: 500;
        }

        /* --- Donut Charts (Gr√°ficos de Tipo de Item) --- */
        .donut-list {
            display: flex;
            flex-basis: 50%;
            justify-content: space-around;
            gap: 10px;
            min-width: 200px;
        }

        .donut-chart {
            width: 30%;
            min-width: 80px;
            height: 120px;
            position: relative;
        }

        .donut-chart svg {
            display: block;
            width: 100%;
            height: auto;
            margin-top: 10px;
            /* Rotaci√≥n 90 grados a la izquierda para que 0% est√© arriba */
            transform: rotate(-90deg);
        }

        .donut-title {
            text-align: center;
            font-size: 0.8em;
            font-weight: bold;
            color: #1A3E60;
            margin-top: -5px;
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
        }

        .donut-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            /* Se elimina la rotaci√≥n extra en el porcentaje para que quede vertical */
            transform: translate(-50%, -50%);
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }
        
        /* Estilos SVG de Donut */
        .donut-circle-bg {
            fill: none;
            stroke: #ccc;
            stroke-width: 10;
        }
        
        .donut-circle-progress {
            fill: none;
            stroke-width: 10;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease-out;
        }

        /* --- Checklist Grid --- */
        .checklist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .category-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            background-color: #007BFF;
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        .card-header .icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .card-body {
            padding: 15px;
        }

        .card-score {
            font-size: 2.5em;
            font-weight: bold;
            color: #28a745;
            text-align: center;
            margin-bottom: 10px;
        }

        .card-score.low { color: #dc3545; }
        .card-score.medium { color: #ffc107; }

        .card-details {
            display: flex;
            justify-content: space-around;
            text-align: center;
            font-size: 0.9em;
            color: #6c757d;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
        
        .detail-group {
            flex: 1;
            padding: 0 5px;
        }

        .detail-group span:first-child {
            display: block;
            font-size: 1.2em;
            font-weight: bold;
            color: #495057;
        }

        .detail-group span:last-child {
            display: block;
            font-size: 0.8em;
            font-weight: normal;
            color: #6c757d;
            line-height: 1.2;
        }

        /* --- MODAL GENERAL (Checklist) --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 100; /* Asegura que est√© por encima de todo */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6); /* Fondo semi-transparente */
        }

        #checklistModal .modal-content {
            background-color: #fefefe;
            /* Centrado Vertical y Horizontal */
            margin: 5% auto;
            padding: 30px;
            border: 1px solid #888;
            width: 80%;
            max-width: 700px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .modal-title-group {
            display: flex;
            align-items: center;
        }

        .modal-section-score {
            font-size: 1.5em;
            font-weight: bold;
            color: #007BFF;
            margin-left: 15px;
        }

        .modal-controls button {
            padding: 8px 15px;
            margin-left: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }

        .save-button {
            background-color: #28a745;
            color: white;
        }

        .clear-button {
            background-color: #dc3545;
            color: white;
        }

        .checklist-item {
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
            transition: background-color 0.2s;
        }

        .checklist-item.completed {
            background-color: #f7fff7;
        }

        .checklist-row {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        .checklist-row input[type="checkbox"] {
            margin-right: 15px;
            transform: scale(1.3);
            cursor: pointer;
        }
        
        .item-title {
            font-weight: bold;
            color: #333;
            flex-grow: 1;
        }

        .item-detail {
            font-size: 0.9em;
            color: #6c757d;
            padding-left: 30px;
            margin-bottom: 5px;
        }

        .level-tag {
            font-size: 0.75em;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: bold;
            margin-left: 10px;
            display: inline-block;
        }

        /* NOMBRES NUEVOS DE CLASES DE NIVEL */
        .level-minimo { background-color: #D4EDDA; color: #155724; } /* Era level-basico */
        .level-mejores { background-color: #FFF3CD; color: #856404; } /* Era level-avanzado */
        .level-profunda { background-color: #D6D8D9; color: #495057; } /* Era level-opcional */

        /* --- ESTILOS DE IMPRESI√ìN --- */
        @media print {
            /* Ocultar elementos no deseados */
            button {
                display: none !important;
            }
            .modal-controls {
                display: none !important;
            }
            .context-paragraph {
                border-left: 4px solid #007BFF;
                box-shadow: none;
            }

            /* Mostrar la fecha/hora */
            #printDate {
                display: block !important;
                text-align: right;
                margin-bottom: 15px;
                color: #555;
                font-size: 10pt;
            }
            
            .container {
                box-shadow: none;
                padding: 0;
                border: none;
            }
            
            /* Asegurar que el contenido no se corte */
            .category-card {
                border: 1px solid #ccc;
                page-break-inside: avoid;
            }
            .scores-summary-top {
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ°Ô∏è Evaluaci√≥n de Ciberseguridad Personal</h1>

        <p class="context-paragraph">
            Este CheckList es una Evaluaci√≥n de Ciberseguridad gratuita y su prop√≥sito es proporcionarte asistencia y una "nota" en el √°mbito de la Ciberseguridad. Est√° dirigido tanto a usuarios sin experiencia previa como a aquellos que ya cuentan con conocimientos en la materia.
        </p>
        
        <div style="text-align: right; margin-bottom: 20px;">
            <span id="printDate" style="display: none; font-size: 0.9em; margin-right: 10px;"></span>
            <button onclick="window.print()" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                üñ®Ô∏è Imprimir Evaluaci√≥n
            </button>
        </div>

        <div class="scores-summary-top">
            <div class="overall-summary-block">
                <div class="overall-score-top">Tu Progreso es: <span id="promedioGeneral">0%</span></div>
                <div class="overall-item-count">
                    <span id="totalCheckedItems">0</span> de <span id="totalItems">0</span> Puntos Ponderados Obtenidos
                </div>
            </div>
            <div class="charts-container">
                <div class="radial-chart-container">
                    <svg id="cyberRadarChart" viewBox="0 0 200 200"></svg>
                </div>
                <div class="donut-list">
                    <div class="donut-chart" id="donutMinimo">
                        <svg viewBox="0 0 100 100">
                            <circle class="donut-circle-bg" cx="50" cy="50" r="45"></circle>
                            <circle id="donutCircleMinimo" class="donut-circle-progress" cx="50" cy="50" r="45" stroke="#28A745" stroke-dasharray="282.7 282.7" stroke-dashoffset="282.7"></circle>
                        </svg>
                        <div class="donut-percentage" id="donutPercentMinimo">0%</div>
                        <div class="donut-title">M√≠nimo</div>
                    </div>
                    <div class="donut-chart" id="donutMejores">
                        <svg viewBox="0 0 100 100">
                            <circle class="donut-circle-bg" cx="50" cy="50" r="45"></circle>
                            <circle id="donutCircleMejores" class="donut-circle-progress" cx="50" cy="50" r="45" stroke="#FFC107" stroke-dasharray="282.7 282.7" stroke-dashoffset="282.7"></circle>
                        </svg>
                        <div class="donut-percentage" id="donutPercentMejores">0%</div>
                        <div class="donut-title">Mejores</div>
                    </div>
                    <div class="donut-chart" id="donutProfunda">
                        <svg viewBox="0 0 100 100">
                            <circle class="donut-circle-bg" cx="50" cy="50" r="45"></circle>
                            <circle id="donutCircleProfunda" class="donut-circle-progress" cx="50" cy="50" r="45" stroke="#6C757D" stroke-dasharray="282.7 282.7" stroke-dashoffset="282.7"></circle>
                        </svg>
                        <div class="donut-percentage" id="donutPercentProfunda">0%</div>
                        <div class="donut-title">Profunda</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="checklist-grid">
            <div class="category-card" onclick="openModal('autenticacion')">
                <div class="card-header"><span class="icon">üîë</span> Autenticaci√≥n</div>
                <div class="card-body">
                    <div class="card-score" id="scoreAutenticacion">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedAutenticacion">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalAutenticacion">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="category-card" onclick="openModal('moviles')">
                <div class="card-header"><span class="icon">üì±</span> M√≥viles</div>
                <div class="card-body">
                    <div class="card-score" id="scoreMoviles">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedMoviles">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalMoviles">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="category-card" onclick="openModal('pc')">
                <div class="card-header"><span class="icon">üíª</span> PC y Escritorio</div>
                <div class="card-body">
                    <div class="card-score" id="scorePC">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedPC">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalPC">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="category-card" onclick="openModal('navegacion')">
                <div class="card-header"><span class="icon">üåê</span> Navegaci√≥n Web</div>
                <div class="card-body">
                    <div class="card-score" id="scoreNavegacion">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedNavegacion">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalNavegacion">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="category-card" onclick="openModal('correo')">
                <div class="card-header"><span class="icon">üìß</span> Correo Electr√≥nico</div>
                <div class="card-body">
                    <div class="card-score" id="scoreCorreo">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedCorreo">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalCorreo">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="category-card" onclick="openModal('respaldo')">
                <div class="card-header"><span class="icon">üíæ</span> Respaldo</div>
                <div class="card-body">
                    <div class="card-score" id="scoreRespaldo">0%</div>
                    <div class="card-details">
                        <div class="detail-group">
                            <span id="checkedRespaldo">0</span>
                            <span>Puntos</span>
                        </div>
                        <div class="detail-group">
                            <span id="totalRespaldo">0</span>
                            <span>Posibles</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="checklistModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <div class="modal-title-group">
                    <h2 id="modalTitle">Detalles del Checklist</h2>
                    <span id="modalSectionScore" class="modal-section-score">0%</span>
                </div>
                <div class="modal-controls">
                    <button class="save-button" onclick="saveAndCloseModal()">Guardar y Cerrar</button>
                    <button class="clear-button" onclick="clearCurrentSection()">Borrar Items Seleccionados</button>
                </div>
            </div>
            <div id="modalBody">
                </div>
        </div>
    </div>

    <div id="hiddenChecklistData" style="display: none;">
        <section data-sectionname="autenticacion" data-title="Checklist de Autenticaci√≥n (10 √çtems)">
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/blog/gestores-de-contrasenas" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_pass_manager">
                     <label for="auth_pass_manager" class="item-title">Usar un gestor de contrase√±as confiable (LastPass, 1Password, etc.).</label>
                 </div>
                 <div class="item-detail">Permite generar y almacenar contrase√±as √∫nicas y complejas para todos los servicios.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://support.google.com/accounts/answer/185839?hl=es" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_2fa_critical">
                     <label for="auth_2fa_critical" class="item-title">Activar 2FA en cuentas <span class="emphasis">cr√≠ticas</span> (email, bancos, redes principales).</label>
                 </div>
                 <div class="item-detail">La autenticaci√≥n de dos factores es vital contra el robo de contrase√±as.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/ciudadania/blog/como-activar-doble-factor-autenticacion" data-gamification-badge="Veterano" data-risk-weight="4">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_2fa_all">
                     <label for="auth_2fa_all" class="item-title">Activar 2FA en <span class="emphasis">todas</span> las cuentas que lo permitan (incluso tiendas online).</label>
                 </div>
                 <div class="item-detail">Aumenta la protecci√≥n contra las brechas de datos de terceros.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/blog/usar-llave-seguridad-hardware-fido" data-gamification-badge="Veterano" data-risk-weight="4">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_physical_key">
                     <label for="auth_physical_key" class="item-title">Usar una llave de seguridad f√≠sica (FIDO2/YubiKey) para las cuentas principales.</label>
                 </div>
                 <div class="item-detail">Proporciona el nivel m√°s alto de protecci√≥n contra phishing de 2FA.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.redeszone.net/tutoriales/seguridad/cambiar-contrasena-router-wifi/" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_default_pass_change">
                     <label for="auth_default_pass_change" class="item-title">Cambiar todas las contrase√±as por defecto de routers y dispositivos IoT.</label>
                 </div>
                 <div class="item-detail">Las contrase√±as de f√°brica son una de las principales vulnerabilidades.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://support.google.com/accounts/answer/3466521?hl=es" data-gamification-badge="Veterano" data-risk-weight="3">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_app_permissions">
                     <label for="auth_app_permissions" class="item-title">Revisar y revocar permisos de acceso a datos otorgados a aplicaciones de terceros.</label>
                 </div>
                 <div class="item-detail">Limitar el acceso a tus datos reduce el riesgo de fugas por apps comprometidas.</div>
             </div>
             <div class="checklist-item" data-item-level="profunda" data-link="https://proton.me/es/mail/aliases" data-gamification-badge="Cazador" data-risk-weight="2">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_email_alias">
                     <label for="auth_email_alias" class="item-title">Usar un servicio de alias de correo (ej. SimpleLogin, Anonaddy) para registros nuevos.</label>
                 </div>
                 <div class="item-detail">Protege tu direcci√≥n de correo electr√≥nico principal de spam y brechas de datos.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/por-que-es-mala-idea-reutilizar-contrasenas" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_no_reuse_pass">
                     <label for="auth_no_reuse_pass" class="item-title">Nunca reutilizar la misma contrase√±a entre servicios, ni siquiera variaciones leves.</label>
                 </div>
                 <div class="item-detail">Una filtraci√≥n en un sitio afectar√≠a a todas tus cuentas.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/blog/autenticacion-doble-factor-aplicaciones-frente-sms" data-gamification-badge="Veterano" data-risk-weight="3">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_totp_app">
                     <label for="auth_totp_app" class="item-title">Priorizar apps TOTP (Authenticator) sobre c√≥digos enviados por SMS para 2FA.</label>
                 </div>
                 <div class="item-detail">Los SMS pueden ser interceptados (SIM Swapping); las apps son m√°s seguras.</div>
             </div>
             <div class="checklist-item" data-item-level="profunda" data-link="https://haveibeenpwned.com/" data-gamification-badge="Cazador" data-risk-weight="2">
                 <div class="checklist-row">
                     <input type="checkbox" id="auth_check_pwned">
                     <label for="auth_check_pwned" class="item-title">Comprobar peri√≥dicamente si sus cuentas han sido expuestas en brechas de datos (Have I Been Pwned).</label>
                 </div>
                 <div class="item-detail">Permite cambiar proactivamente contrase√±as comprometidas.</div>
             </div>
        </section>

        <section data-sectionname="moviles" data-title="Checklist de Dispositivos M√≥viles (10 √çtems)">
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.android.com/intl/es_es/safety/protection/" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_pass_lock">
                     <label for="mobile_pass_lock" class="item-title">Configurar contrase√±a, PIN o biometr√≠a <span class="emphasis">fuerte</span> para el desbloqueo.</label>
                 </div>
                 <div class="item-detail">Protege el acceso a los datos del dispositivo en caso de p√©rdida o robo.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.apple.com/la/ios/security/" data-gamification-badge="Defensor" data-risk-weight="4">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_updates">
                     <label for="mobile_updates" class="item-title">Mantener el sistema operativo (iOS/Android) y apps <span class="emphasis">actualizadas</span>.</label>
                 </div>
                 <div class="item-detail">Las actualizaciones incluyen parches de seguridad cr√≠ticos que cierran vulnerabilidades.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.cnet.com/es/como-se-hace/como-ocultar-notificaciones-de-la-pantalla-de-bloqueo-en-android-o-iphone/" data-gamification-badge="Veterano" data-risk-weight="3">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_lock_screen_notif">
                     <label for="mobile_lock_screen_notif" class="item-title">Configurar la pantalla de bloqueo para ocultar el contenido sensible de las notificaciones.</label>
                 </div>
                 <div class="item-detail">Evita que extra√±os vean mensajes de texto o de 2FA sin desbloquear el tel√©fono.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/permisos-apps-movil" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_permissions_review">
                     <label for="mobile_permissions_review" class="item-title">Revisar los permisos de ubicaci√≥n, micr√≥fono y c√°mara de todas las aplicaciones.</label>
                 </div>
                 <div class="item-detail">Limita el seguimiento constante de tu actividad y ubicaci√≥n.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://support.google.com/android/answer/6169008?hl=es" data-gamification-badge="Veterano" data-risk-weight="4">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_remote_wipe">
                     <label for="mobile_remote_wipe" class="item-title">Tener activada la funci√≥n de borrado remoto (Encontrar mi dispositivo/Find My).</label>
                 </div>
                 <div class="item-detail">Permite eliminar todos los datos en caso de que el dispositivo sea irrecuperable.</div>
             </div>
             <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/riesgos-descargar-aplicaciones-sitios-oficiales" data-gamification-badge="Defensor" data-risk-weight="5">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_official_stores">
                     <label for="mobile_official_stores" class="item-title">Descargar aplicaciones <span class="emphasis">solo</span> desde tiendas oficiales (App Store o Google Play).</label>
                 </div>
                 <div class="item-detail">Las tiendas oficiales realizan una revisi√≥n de seguridad del software.</div>
             </div>
             <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/protege-tu-empresa/blog/que-es-vpn-y-por-que-es-necesario-utilizarla" data-gamification-badge="Cazador" data-risk-weight="2">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_always_on_vpn">
                     <label for="mobile_always_on_vpn" class="item-title">Usar una VPN (Red Privada Virtual) de confianza en el m√≥vil y configurarla para que est√© siempre activa.</label>
                 </div>
                 <div class="item-detail">Cifra todo el tr√°fico de red, protegiendo contra espionaje en redes p√∫blicas.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/ciudadania/blog/bluetooth-wifi-movil" data-gamification-badge="Veterano" data-risk-weight="3">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_disable_bt_nfc">
                     <label for="mobile_disable_bt_nfc" class="item-title">Desactivar Bluetooth y NFC cuando no est√©n en uso.</label>
                 </div>
                 <div class="item-detail">Reduce la superficie de ataque del dispositivo.</div>
             </div>
             <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/ciudadania/blog/que-es-pin-sim-y-por-que-deberias-activarlo" data-gamification-badge="Cazador" data-risk-weight="1">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_sim_pin">
                     <label for="mobile_sim_pin" class="item-title">Activar el PIN de la tarjeta SIM.</label>
                 </div>
                 <div class="item-detail">Evita el uso no autorizado de la SIM si el tel√©fono es robado.</div>
             </div>
             <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/ciudadania/blog/que-es-rootear-y-por-que-no-deberias-hacerlo" data-gamification-badge="Veterano" data-risk-weight="4">
                 <div class="checklist-row">
                     <input type="checkbox" id="mobile_no_root_jailbreak">
                     <label for="mobile_no_root_jailbreak" class="item-title">Evitar modificar el sistema operativo del m√≥vil (rootear/jailbreak).</label>
                 </div>
                 <div class="item-detail">Elimina las capas de seguridad integradas por el fabricante.</div>
             </div>
        </section>

        <section data-sectionname="pc" data-title="Checklist de PC y Escritorio (10 √çtems)">
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.microsoft.com/es-es/security/blog/2021/04/01/how-to-create-a-strong-password/" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_pass_login">
                    <label for="pc_pass_login" class="item-title">Establecer contrase√±a <span class="emphasis">robusta</span> para iniciar sesi√≥n en el PC/Mac.</label>
                </div>
                <div class="item-detail">Primera l√≠nea de defensa contra accesos no autorizados al equipo f√≠sico.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/configuracion-basica-del-firewall" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_firewall_active">
                    <label for="pc_firewall_active" class="item-title">Asegurar que el firewall del sistema operativo (Windows/macOS) est√© siempre activo.</label>
                </div>
                <div class="item-detail">Bloquea conexiones no deseadas desde y hacia internet.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/cifrado-disco-duro" data-gamification-badge="Veterano" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_full_disk_encryption">
                    <label for="pc_full_disk_encryption" class="item-title">Utilizar cifrado de disco completo (BitLocker, FileVault) en el PC.</label>
                </div>
                <div class="item-detail">Impide que los datos sean le√≠dos si el disco duro es extra√≠do.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/antivirus-o-antimalware" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_antivirus_active">
                    <label for="pc_antivirus_active" class="item-title">Tener un antivirus/antimalware de confianza instalado y con escaneo autom√°tico activo.</label>
                </div>
                <div class="item-detail">Protecci√≥n esencial contra la mayor√≠a de amenazas de software.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/ciudadania/blog/desinstalar-aplicaciones-no-usadas" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_remove_unused_software">
                    <label for="pc_remove_unused_software" class="item-title">Desinstalar programas o aplicaciones que ya no se utilizan.</label>
                </div>
                <div class="item-detail">Cada programa es una posible puerta de entrada si no est√° actualizado.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/configurar-bloqueo-automatico-sesion-equipo" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_auto_lock">
                    <label for="pc_auto_lock" class="item-title">Configurar el bloqueo de sesi√≥n autom√°tico despu√©s de un corto periodo de inactividad.</label>
                </div>
                <div class="item-detail">Protege el acceso f√≠sico si te alejas del escritorio.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/protege-tu-empresa/blog/por-que-no-debe-utilizarse-cuenta-administrador" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_standard_user">
                    <label for="pc_standard_user" class="item-title">Usar una cuenta de usuario est√°ndar (no administrador) para el trabajo diario.</label>
                </div>
                <div class="item-detail">Limita los da√±os que el *malware* puede causar al ejecutarse.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/gestion-de-parches-y-actualizaciones" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_patch_management">
                    <label for="pc_patch_management" class="item-title">Asegurar que el sistema operativo y todas las aplicaciones se actualizan autom√°ticamente.</label>
                </div>
                <div class="item-detail">La mayor√≠a de los ciberataques explotan software desactualizado.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://support.microsoft.com/es-es/topic/habilitar-o-deshabilitar-macros-en-archivos-de-office-12b036fd-d140-4e4b-97b4-dfd45ab46914" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_disable_macros">
                    <label for="pc_disable_macros" class="item-title">Configurar las aplicaciones de Office para deshabilitar las macros por defecto.</label>
                </div>
                <div class="item-detail">Las macros son un vector de ataque com√∫n para el *ransomware*.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/que-hacer-ante-un-archivo-o-software-sospechoso" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="pc_no_unknown_files">
                    <label for="pc_no_unknown_files" class="item-title">Nunca ejecutar archivos descargados o adjuntos desconocidos con doble clic.</label>
                </div>
                <div class="item-detail">Es la forma m√°s sencilla de infecci√≥n por *malware*.</div>
            </div>
        </section>

        <section data-sectionname="navegacion" data-title="Checklist de Navegaci√≥n Web (10 √çtems)">
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/candado-y-https" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_secure_sites">
                    <label for="nav_secure_sites" class="item-title">Verificar que los sitios web sean HTTPS (candado en la URL) al ingresar datos sensibles.</label>
                </div>
                <div class="item-detail">Asegura que tu conexi√≥n con el sitio est√© encriptada y sea privada.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/extensiones-navegador-riesgos" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_min_extensions">
                    <label for="nav_min_extensions" class="item-title">Mantener la cantidad de extensiones del navegador al m√≠nimo indispensable.</label>
                </div>
                <div class="item-detail">Las extensiones a menudo piden acceso a todos tus datos de navegaci√≥n.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/riesgos-de-la-publicidad-maliciosa" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_ad_blocker">
                    <label for="nav_ad_blocker" class="item-title">Usar un bloqueador de anuncios confiable para prevenir *malvertising*.</label>
                </div>
                <div class="item-detail">Evita que anuncios maliciosos puedan infectar tu equipo.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/actualizar-navegador" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_browser_update">
                    <label for="nav_browser_update" class="item-title">Asegurar que el navegador web est√© configurado para actualizarse autom√°ticamente.</label>
                </div>
                <div class="item-detail">Los navegadores son un objetivo constante de vulnerabilidades.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://blog.mozilla.org/es/seguridad/firefox-multi-account-containers/" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_tab_containers">
                    <label for="nav_tab_containers" class="item-title">Usar la funci√≥n de "Contenedores" o perfiles de navegaci√≥n para aislar actividad (trabajo, personal, banco).</label>
                </div>
                <div class="item-detail">Evita el rastreo cruzado entre sitios y a√≠sla cookies maliciosas.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/uso-de-scripts-maliciosos" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_script_blocker">
                    <label for="nav_script_blocker" class="item-title">Usar extensiones de seguridad para bloquear scripts de terceros por defecto.</label>
                </div>
                <div class="item-detail">Detiene la ejecuci√≥n de c√≥digo no deseado y reduce la huella digital.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/cerrar-sesion-web" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_logout_sensitive">
                    <label for="nav_logout_sensitive" class="item-title">Cerrar sesi√≥n manualmente en servicios bancarios o de correo al terminar de usarlos.</label>
                </div>
                <div class="item-detail">Evita el secuestro de sesi√≥n si su PC queda desatendido.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/ciudadania/blog/servidores-dns-seguros" data-gamification-badge="Cazador" data-risk-weight="1">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_secure_dns">
                    <label for="nav_secure_dns" class="item-title">Configurar el navegador para usar DNS seguro (DNS over HTTPS/TLS).</label>
                </div>
                <div class="item-detail">Evita que su ISP o terceros vean a qu√© sitios web se conecta.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://support.google.com/chrome/answer/114662?hl=es" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_site_permissions">
                    <label for="nav_site_permissions" class="item-title">Revisar los permisos (notificaciones, c√°mara, micr√≥fono) otorgados a los sitios web.</label>
                </div>
                <div class="item-detail">Evita que sitios maliciosos puedan acceder a sus perif√©ricos o interrumpirlo.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/riesgos-redes-wifi-publicas" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="nav_public_wifi_caution">
                    <label for="nav_public_wifi_caution" class="item-title">Evitar transacciones sensibles o ingresar credenciales en redes Wi-Fi p√∫blicas sin VPN.</label>
                </div>
                <div class="item-detail">Las redes p√∫blicas son susceptibles de ataques *Man-in-the-Middle*.</div>
            </div>
        </section>

        <section data-sectionname="correo" data-title="Checklist de Correo Electr√≥nico (10 √çtems)">
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/como-identificar-un-correo-de-phishing" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="email_attachments">
                    <label for="email_attachments" class="item-title">Ser <span class="emphasis">extremadamente cauteloso</span> con adjuntos y enlaces, incluso de remitentes conocidos.</label>
                </div>
                <div class="item-detail">El *phishing* y el *malware* se propagan principalmente a trav√©s de correos.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.redeszone.net/tutoriales/seguridad/como-identificar-phishing-correo/" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="email_sender_check">
                    <label for="email_sender_check" class="item-title">Verificar la direcci√≥n de correo del remitente (el texto azul) antes de interactuar.</label>
                </div>
                <div class="item-detail">Los atacantes suelen usar direcciones similares para enga√±arte.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/encabezado-correo-electronico-analisis-phishing" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="email_header_check">
                    <label for="email_header_check" class="item-title">Saber c√≥mo revisar el encabezado o los metadatos de un correo sospechoso.</label>
                </div>
                <div class="item-detail">Revela la ruta de env√≠o y el origen real del mensaje.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/no-picar-con-phishing" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="email_no_sensitive_reply">
                    <label for="email_no_sensitive_reply" class="item-title">Nunca responder a un correo pidiendo contrase√±as, PINs o informaci√≥n financiera.</label>
                </div>
                <div class="item-detail">Las entidades leg√≠timas nunca solicitar√°n esta informaci√≥n por correo.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/uso-de-la-criptografia-para-proteger-el-correo-electronico" data-gamification-badge="Veterano" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="email_pgp_encryption">
                    <label for="email_pgp_encryption" class="item-title">Usar cifrado de correo de extremo a extremo (PGP o S/MIME) para comunicaciones sensibles.</label>
                </div>
                <div class="item-detail">Asegura que solo el destinatario puede leer el contenido.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/ciudadania/blog/como-crear-cuentas-de-correo-temporales-para-navegar-forma-segura" data-gamification-badge="Cazador" data-risk-weight="1">
                <div class="checklist-row">
                    <input type="checkbox" id="email_disposable">
                    <label for="email_disposable" class="item-title">Usar una direcci√≥n de correo "desechable" o secundaria para suscripciones y tiendas no esenciales.</label>
                </div>
                <div class="item-detail">Protege la cuenta principal de spam y exposici√≥n en listas.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/como-identificar-un-correo-de-scam" data-gamification-badge="Defensor" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="email_urgency_check">
                    <label for="email_urgency_check" class="item-title">Desconfiar de correos que exigen acci√≥n inmediata o amenazan con la suspensi√≥n de una cuenta.</label>
                </div>
                <div class="item-detail">T√©cnica com√∫n de *phishing* para forzar una reacci√≥n impulsiva.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/ciudadania/blog/privacidad-correo-electronico-imagen" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="email_disable_images">
                    <label for="email_disable_images" class="item-title">Configurar el cliente de correo para que no cargue im√°genes de forma autom√°tica.</label>
                </div>
                <div class="item-detail">Evita que los remitentes sepan cu√°ndo y d√≥nde ha abierto el correo ("p√≠xeles de seguimiento").</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/ventajas-de-usar-correo-corporativo-con-dominio-propio" data-gamification-badge="Veterano" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="email_custom_domain">
                    <label for="email_custom_domain" class="item-title">Usar una direcci√≥n de correo con dominio propio para un uso m√°s profesional y seguro.</label>
                </div>
                <div class="item-detail">Proporciona un mayor control sobre la reputaci√≥n y la seguridad del correo.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/configurar-filtro-antispam" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="email_spam_filter">
                    <label for="email_spam_filter" class="item-title">Asegurarse de que el filtro antispam y antivirus del proveedor de correo est√© funcionando.</label>
                </div>
                <div class="item-detail">Detiene la mayor√≠a de amenazas conocidas antes de que lleguen a su bandeja.</div>
            </div>
        </section>

        <section data-sectionname="respaldo" data-title="Checklist de Respaldo y Recuperaci√≥n (10 √çtems)">
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/como-hacer-copias-seguridad" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_critical_data">
                    <label for="backup_critical_data" class="item-title">Hacer copias de seguridad de <span class="emphasis">datos cr√≠ticos</span> regularmente (al menos una vez a la semana).</label>
                </div>
                <div class="item-detail">La p√©rdida de datos puede ocurrir por fallos de hardware o ataques de *ransomware*.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/regla-3-2-1" data-gamification-badge="Veterano" data-risk-weight="5">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_separate_media">
                    <label for="backup_separate_media" class="item-title">Aplicar la **Regla 3-2-1**: 3 copias, 2 medios, 1 copia <span class="emphasis">desconectada</span> (off-site).</label>
                </div>
                <div class="item-detail">Es la mejor defensa contra desastres f√≠sicos o *ransomware*.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/protege-tu-empresa/blog/pruebas-de-restauracion-de-la-copia-de-seguridad" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_test_restore">
                    <label for="backup_test_restore" class="item-title">Probar peri√≥dicamente la restauraci√≥n de archivos para asegurar que la copia funciona.</label>
                </div>
                <div class="item-detail">Una copia no probada es una copia in√∫til.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/cifrado-copias-de-seguridad" data-gamification-badge="Veterano" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_encryption">
                    <label for="backup_encryption" class="item-title">Asegurar que las copias de seguridad (especialmente en la nube) est√°n encriptadas.</label>
                </div>
                <div class="item-detail">Protege la confidencialidad de los datos si el medio de copia es robado.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/software-para-hacer-copias-de-seguridad" data-gamification-badge="Defensor" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_automated_solution">
                    <label for="backup_automated_solution" class="item-title">Utilizar una soluci√≥n de copia de seguridad automatizada en lugar de confiar en la memoria.</label>
                </div>
                <div class="item-detail">Garantiza la consistencia y periodicidad del respaldo.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/protege-tu-empresa/blog/copia-de-seguridad-de-la-configuracion" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_config_files">
                    <label for="backup_config_files" class="item-title">Incluir archivos de configuraci√≥n y licencias importantes en su plan de respaldo.</label>
                </div>
                <div class="item-detail">Acelera la restauraci√≥n del entorno de trabajo despu√©s de un desastre.</div>
            </div>
            <div class="checklist-item" data-item-level="mejores" data-link="https://www.incibe.es/protege-tu-empresa/blog/copias-de-seguridad-inmutables" data-gamification-badge="Veterano" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_immutability">
                    <label for="backup_immutability" class="item-title">Usar un servicio de almacenamiento que soporte la inmutabilidad de los datos de respaldo.</label>
                </div>
                <div class="item-detail">Impide que el *ransomware* o los errores humanos borren o modifiquen la copia.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/protege-tu-empresa/blog/tipos-de-copias-de-seguridad" data-gamification-badge="Cazador" data-risk-weight="3">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_incremental">
                    <label for="backup_incremental" class="item-title">Configurar las copias de seguridad para que sean incrementales o diferenciales y ahorrar espacio.</label>
                </div>
                <div class="item-detail">Optimiza el tiempo y el almacenamiento de las copias sin perder la capacidad de recuperaci√≥n.</div>
            </div>
            <div class="checklist-item" data-item-level="minimo" data-link="https://www.incibe.es/ciudadania/blog/copias-seguridad-en-dispositivos-moviles" data-gamification-badge="Defensor" data-risk-weight="4">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_mobile_data">
                    <label for="backup_mobile_data" class="item-title">Asegurar que los datos de sus dispositivos m√≥viles (fotos, contactos) tambi√©n se respaldan.</label>
                </div>
                <div class="item-detail">La informaci√≥n m√≥vil es tan cr√≠tica como la del PC.</div>
            </div>
            <div class="checklist-item" data-item-level="profunda" data-link="https://www.incibe.es/protege-tu-empresa/blog/plan-de-respuesta-incidentes" data-gamification-badge="Cazador" data-risk-weight="2">
                <div class="checklist-row">
                    <input type="checkbox" id="backup_incident_plan">
                    <label for="backup_incident_plan" class="item-title">Tener un plan de respuesta a incidentes documentado (Pasos a seguir si sufres un ciberataque).</label>
                </div>
                <div class="item-detail">Reduce el tiempo de inactividad y el da√±o potencial de un ataque.</div>
            </div>
        </section>
    </div>

    <script>
        // **********************************************
        // 1. L√ìGICA DEL CHECKLIST
        // **********************************************
        
        // --- 5. CENTRALIZACI√ìN (URL DE GOOGLE APPS SCRIPT) ---
        // üö® IMPORTANTE: Reemplace 'PEGAR_AQU√ç_LA_URL_DE_SU_WEB_APP' con la URL real de su despliegue de Google Apps Script.
        const GOOGLE_APP_SCRIPT_URL = 'PEGAR_AQU√ç_LA_URL_DE_SU_WEB_APP';

        const allChecklistData = {};
        const allLevels = ['minimo', 'mejores', 'profunda'];
        const totalItemsInLevel = {}; 
        const checkedItemsInLevel = {}; 
        let currentSection = ''; 

        // 1.1 Cargar datos del HTML a la estructura JS
        document.querySelectorAll('#hiddenChecklistData section').forEach(section => {
            const name = section.dataset.sectionname;
            const title = section.dataset.title;
            const items = [];
            
            allLevels.forEach(level => {
                totalItemsInLevel[level] = totalItemsInLevel[level] || 0;
                checkedItemsInLevel[level] = checkedItemsInLevel[level] || 0;
            });

            section.querySelectorAll('.checklist-item').forEach(item => {
                const level = item.dataset.itemLevel;
                const riskWeight = parseInt(item.dataset.riskWeight || '1');
                const policyLink = item.dataset.link || '#';
                const gamificationBadge = item.dataset.gamificationBadge || 'Novato';

                items.push({
                    id: item.querySelector('input[type="checkbox"]').id,
                    title: item.querySelector('.item-title').textContent,
                    detail: item.querySelector('.item-detail').textContent,
                    level: level,
                    riskWeight: riskWeight,
                    link: policyLink,
                    gamificationBadge: gamificationBadge,
                    checked: false
                });

                totalItemsInLevel[level] += riskWeight;
            });
            allChecklistData[name] = { name, title, items };
        });

        // 1.2 Funciones de Utilidad
        function capitalize(s) {
            if (s === 'minimo') return 'Minimo';
            if (s === 'mejores') return 'Mejores';
            if (s === 'profunda') return 'Profunda';
            return s.charAt(0).toUpperCase() + s.slice(1);
        }
        
        // Set Current Date/Time for Printing
        function setPrintDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            document.getElementById('printDate').textContent = 'Fecha de Emisi√≥n: ' + now.toLocaleDateString('es-ES', options);
        }

        // 1.3 L√≥gica de Persistencia y Actualizaci√≥n (PONDERADA)
        // üö® ESTA FUNCI√ìN CONTIENE EL "REPORTE DE C√ÅLCULO DE SCORE"
        function updateTotals() {
            let totalWeightedChecked = 0;
            let totalWeightedPossible = 0;
            
            allLevels.forEach(level => checkedItemsInLevel[level] = 0);

            for (const sectionName in allChecklistData) {
                const section = allChecklistData[sectionName];
                let checkedWeightedInSection = 0;
                let totalWeightedInSection = 0;

                section.items.forEach(item => {
                    // C√ÅLCULO CENTRAL: Se suman los pesos
                    totalWeightedPossible += item.riskWeight; 
                    totalWeightedInSection += item.riskWeight;
                    
                    if (item.checked) {
                        checkedWeightedInSection += item.riskWeight;
                        totalWeightedChecked += item.riskWeight;
                        checkedItemsInLevel[item.level] += item.riskWeight;
                    }
                });

                // C√ÅLCULO DEL SCORE POR SECCI√ìN: (Pesos Obtenidos / Pesos Posibles) * 100
                const score = totalWeightedInSection > 0 ? Math.round((checkedWeightedInSection / totalWeightedInSection) * 100) : 0;

                // Actualizar Tarjetas
                const scoreElement = document.getElementById(`score${capitalize(sectionName)}`);
                const checkedElement = document.getElementById(`checked${capitalize(sectionName)}`);
                const totalElement = document.getElementById(`total${capitalize(sectionName)}`);

                if (scoreElement) scoreElement.textContent = `${score}%`;
                if (checkedElement) checkedElement.textContent = checkedWeightedInSection;
                if (totalElement) totalElement.textContent = totalWeightedInSection;
            }

            // Actualizar Resumen General (Promedio Ponderado)
            const promedioGeneral = totalWeightedPossible > 0 ? Math.round((totalWeightedChecked / totalWeightedPossible) * 100) : 0;
            const overallScoreElement = document.getElementById('promedioGeneral');
            const scoreContainer = overallScoreElement.closest('.overall-summary-block');
            
            overallScoreElement.textContent = `${promedioGeneral}%`;
            document.getElementById('totalCheckedItems').textContent = totalWeightedChecked; 
            document.getElementById('totalItems').textContent = totalWeightedPossible;     
            
            scoreContainer.style.backgroundColor = '#C0DFF0'; 
            scoreContainer.style.border = 'none';
            overallScoreElement.style.color = '#1A5276'; 
            
            updateDonutCharts();
            updateRadarChart();
            saveState(); 
        }

        // 1.4 L√≥gica de Gr√°ficos (Donut Charts) - Basada en PUNTOS PONDERADOS
        function updateDonutCharts() {
            const circumference = 282.7; // 2 * PI * 45 (radio)
            allLevels.forEach(level => {
                const total = totalItemsInLevel[level] || 1;
                const checked = checkedItemsInLevel[level] || 0;
                const percentage = Math.round((checked / total) * 100);
                const offset = circumference - (percentage / 100) * circumference;

                document.getElementById(`donutPercent${capitalize(level)}`).textContent = `${percentage}%`;
                const circle = document.getElementById(`donutCircle${capitalize(level)}`);
                if (circle) circle.style.strokeDashoffset = offset;
                document.querySelector(`#donut${capitalize(level)} .donut-title`).textContent = capitalize(level);
            });
        }

        // 1.5 L√≥gica de Gr√°ficos (Radar Chart) - Basada en % PONDERADO por secci√≥n
        function updateRadarChart() {
            const svg = document.getElementById('cyberRadarChart');
            const data = {};
            
            for (const sectionName in allChecklistData) {
                const section = allChecklistData[sectionName];
                let checkedWeightedInSection = 0;
                let totalWeightedInSection = 0;
                
                section.items.forEach(item => { 
                    totalWeightedInSection += item.riskWeight;
                    if (item.checked) checkedWeightedInSection += item.riskWeight;
                });
                
                data[sectionName] = totalWeightedInSection > 0 ? (checkedWeightedInSection / totalWeightedInSection) : 0;
            }

            const sections = Object.keys(data);
            const numSections = sections.length;
            if (numSections === 0) return;

            const radius = 90;
            const center = 100;
            const angleStep = (2 * Math.PI) / numSections;

            svg.innerHTML = ''; 

            let points = "";

            // Dibujar la figura del radar (la puntuaci√≥n)
            for (let i = 0; i < numSections; i++) {
                const angle = i * angleStep - Math.PI / 2;
                const score = data[sections[i]] || 0;
                const r = radius * score;
                const x = center + r * Math.cos(angle);
                const y = center + r * Math.sin(angle);
                points += `${x},${y} `;
                
                // Dibujar l√≠neas de eje y etiquetas
                const endX = center + radius * Math.cos(angle);
                const endY = center + radius * Math.sin(angle);
                
                // L√≠nea de Eje
                const axisLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                axisLine.setAttribute('x1', center);
                axisLine.setAttribute('y1', center);
                axisLine.setAttribute('x2', endX);
                axisLine.setAttribute('y2', endY);
                axisLine.setAttribute('class', 'radar-axis');
                svg.appendChild(axisLine);
                
                // Etiqueta
                const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
                const labelX = center + (radius * 1.1) * Math.cos(angle);
                const labelY = center + (radius * 1.1) * Math.sin(angle);

                label.setAttribute('x', labelX);
                label.setAttribute('y', labelY);
                label.setAttribute('class', 'radar-label');
                label.setAttribute('text-anchor', (Math.abs(Math.cos(angle)) < 0.1) ? 'middle' : (Math.cos(angle) > 0 ? 'start' : 'end'));
                label.textContent = capitalize(sections[i]);
                svg.appendChild(label);
            }

            const polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
            polygon.setAttribute('points', points);
            polygon.setAttribute('class', 'radar-shape');
            svg.appendChild(polygon);
        }

        // 1.6 L√≥gica del Modal (Abre, Cierra, Guarda)
        function openModal(sectionName) {
            currentSection = sectionName;
            const modal = document.getElementById('checklistModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const section = allChecklistData[sectionName];
            modalTitle.textContent = section.title;
            
            let htmlContent = '';
            let checkedWeightedCount = 0;
            let totalWeighted = 0;

            section.items.forEach(item => {
                const isChecked = item.checked;
                totalWeighted += item.riskWeight;

                if (isChecked) checkedWeightedCount += item.riskWeight;
                
                const policyLink = item.link || '#';
                const badgeText = item.gamificationBadge || 'Novato';
                const levelDisplay = item.level === 'minimo' ? 'M√≠nimo Requerido' : (item.level === 'mejores' ? 'Mejores Pr√°cticas' : 'Defensa Profunda');

                htmlContent += `
                    <div class="checklist-item ${isChecked ? 'completed' : ''}" data-item-id="${item.id}" data-risk-weight="${item.riskWeight}">
                        <div class="checklist-row">
                            <input type="checkbox" id="modal_${item.id}" ${isChecked ? 'checked' : ''} onchange="updateModalScore('${sectionName}')">
                            <label for="modal_${item.id}" class="item-title">${item.title} <span class="level-tag level-${item.level}">${levelDisplay} - Peso: ${item.riskWeight}</span></label>
                        </div>
                        <div class="item-detail">${item.detail}</div>
                        <div style="margin-top: 5px; padding-left: 30px; display: flex; align-items: center; justify-content: space-between;">
                            <a href="${policyLink}" target="_blank" style="font-size: 0.9em; font-weight: bold; color: #007BFF; text-decoration: none;">[üîó Ir a Pol√≠tica Interna]</a>
                            <span class="level-tag level-${item.level}">Insignia: ${badgeText}</span>
                        </div>
                    </div>
                `;
            });

            modalBody.innerHTML = htmlContent;
            
            const initialScore = totalWeighted > 0 ? Math.round((checkedWeightedCount / totalWeighted) * 100) : 0;
            updateModalScore(sectionName, initialScore);
            modal.style.display = 'block';
        }

        function updateModalScore(sectionName) {
            const section = allChecklistData[sectionName];
            let checkedWeightedCount = 0;
            let totalWeighted = 0;
            
            const modalBody = document.getElementById('modalBody');
            
            modalBody.querySelectorAll('.checklist-item').forEach(itemDiv => {
                const checkbox = itemDiv.querySelector('input[type="checkbox"]');
                const riskWeight = parseInt(itemDiv.dataset.riskWeight);
                
                totalWeighted += riskWeight;

                if (checkbox.checked) {
                    checkedWeightedCount += riskWeight;
                    itemDiv.classList.add('completed');
                } else {
                    itemDiv.classList.remove('completed');
                }
            });

            const score = totalWeighted > 0 ? Math.round((checkedWeightedCount / totalWeighted) * 100) : 0;
            document.getElementById('modalSectionScore').textContent = `${score}%`;
        }

        function saveAndCloseModal() {
            const modalBody = document.getElementById('modalBody');
            const section = allChecklistData[currentSection];

            section.items.forEach(item => {
                const checkbox = modalBody.querySelector(`#modal_${item.id}`);
                item.checked = checkbox.checked;
            });

            updateTotals();
            closeModal();
        }
        
        function clearCurrentSection() {
             const modalBody = document.getElementById('modalBody');
             modalBody.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                 checkbox.checked = false;
             });
             updateModalScore(currentSection); 
        }

        function closeModal() {
            document.getElementById('checklistModal').style.display = 'none';
        }

        // 5. Centralizaci√≥n de Datos (Cliente-side)
        function sendDataToSheets() {
            if (!GOOGLE_APP_SCRIPT_URL || GOOGLE_APP_SCRIPT_URL.includes('PEGAR_AQU√ç_LA_URL')) {
                 console.warn("URL de Google Apps Script no configurada. Omitiendo env√≠o de datos.");
                 return; 
            }

            // --- NUEVOS PROMPTS SOLICITADOS ---
            const employeeName = prompt("üìù Por favor, ingrese su Nombre Completo:");
            const employeeCompany = prompt("üè¢ Ingrese su Empresa (Si es uso personal, escriba CASA):");
            const employeeId = prompt("üÜî Ingrese su ID de Empleado:");
            // ------------------------------------

            // Si el usuario cancela alguno de los prompts, se cancela el env√≠o
            if (employeeName === null || employeeCompany === null || employeeId === null) {
                alert("Env√≠o de datos cancelado por el usuario.");
                return;
            }

            const scoresToSend = {
                promedioGeneral: document.getElementById('promedioGeneral').textContent.replace('%', ''),
                employeeName: employeeName, 
                employeeCompany: employeeCompany, 
                employeeId: employeeId,
                scores: {}
            };

            for (const sectionName in allChecklistData) {
                const section = allChecklistData[sectionName];
                let checkedWeighted = 0;
                let totalWeighted = 0;
                section.items.forEach(item => {
                    totalWeighted += item.riskWeight;
                    if (item.checked) checkedWeighted += item.riskWeight;
                });
                scoresToSend.scores[sectionName] = totalWeighted > 0 ? Math.round((checkedWeighted / totalWeighted) * 100) : 0;
            }
            
            fetch(GOOGLE_APP_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', 
                cache: 'no-cache',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(scoresToSend)
            })
            .then(response => { console.log('Env√≠o de datos as√≠ncrono iniciado. Revise Google Sheet.'); })
            .catch(error => { console.error('Error al enviar datos:', error); });
        }


        // 1.7 Persistencia de datos con localStorage
        function loadState() {
            const savedState = localStorage.getItem('cybersecurityChecklistState');
            if (savedState) {
                const loadedData = JSON.parse(savedState);
                for (const sectionName in loadedData) {
                    if (allChecklistData[sectionName]) {
                        loadedData[sectionName].items.forEach((loadedItem, index) => {
                            if (allChecklistData[sectionName].items[index]) {
                                allChecklistData[sectionName].items[index].checked = loadedItem.checked;
                            }
                        });
                    }
                }
            }
        }

        function saveState() {
            localStorage.setItem('cybersecurityChecklistState', JSON.stringify(allChecklistData));

            // NUEVA L√çNEA: Llamar al env√≠o centralizado
            sendDataToSheets(); 
        }

        // Inicializaci√≥n de la aplicaci√≥n
        loadState();
        updateTotals();
        setPrintDate();

    </script>
</body>
</html>
